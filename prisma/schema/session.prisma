model Session {
    id            Int         @id @default(autoincrement())
    jti           String      @unique @default(uuid())
    ipAddress     String?     @map("ip_address") @db.Text
    userId        Int?        @map("user_id")
    fcmToken      String?     @map("fcm_token") @db.VarChar(255)
    socketId      String?     @map("socket_id")
    createdAt     DateTime    @default(now()) @map("created_at")
    invalidatedAt DateTime?   @map("invalidated_at")
    type          SessionType @default(ACCESS)

    User User? @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)

    Language   Language? @relation(fields: [languageId], references: [key], onDelete: SetNull, onUpdate: Cascade)
    languageId String?   @map("language_id")

    @@index([userId], map: "userId")
    @@map("sessions")
}

enum SessionType {
    ACCESS
    REFRESH
    VERIFY
    PASSWORD_RESET
}
